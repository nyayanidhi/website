(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{3366:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return s(4824)}])},5714:function(e,t,s){"use strict";s.d(t,{Z:function(){return u}});var a=s(1527),n=s(6772),i=s.n(n),r=s(479);function l(){return(0,a.jsxs)("div",{className:"w-full flex justify-between py-3 px-6 bg-slate-800 border-b-1 border-b-slate-100 shadow-md",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("div",{className:"text-white font-bold text-xl",children:"Nyaya Nidhi"})}),(0,a.jsx)(r.l8,{afterSignOutUrl:"/"})]})}var o=s(4405),d=s(971);function c(){let{toasts:e}=(0,d.pm)();return(0,a.jsxs)(o.VW,{children:[e.map(function(e){let{id:t,title:s,description:n,action:i,...r}=e;return(0,a.jsxs)(o.FN,{...r,children:[(0,a.jsxs)("div",{className:"grid gap-1",children:[s&&(0,a.jsx)(o.Mi,{children:s}),n&&(0,a.jsx)(o.lj,{children:n})]}),i,(0,a.jsx)(o.sA,{})]},t)}),(0,a.jsx)(o._i,{})]})}function u(e){let{children:t}=e,{isLoaded:s,userId:n}=(0,r.aC)();return s&&n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i(),{children:(0,a.jsx)("title",{children:"Nyaya Nidhi"})}),(0,a.jsx)(l,{}),(0,a.jsx)("main",{className:"bg-gray-200",children:t}),(0,a.jsx)(c,{})]}):null}},5083:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var a=s(1527);function n(e){let{children:t}=e;return(0,a.jsx)("div",{className:"bg-gray-200 p-4 flex flex-col justify-between min-h-screen",style:{minHeight:"calc(100vh - 60px)"},children:(0,a.jsx)("div",{className:"min-h-screen bg-white p-6 rounded shadow-lg",style:{minHeight:"calc(100vh - 100px)"},children:t})})}},4405:function(e,t,s){"use strict";s.d(t,{FN:function(){return m},Mi:function(){return x},VW:function(){return d},_i:function(){return c},gD:function(){return p},lj:function(){return h},sA:function(){return f}});var a=s(1527),n=s(959),i=s(3170),r=s(2808),l=s(4047),o=s(942);let d=i.zt,c=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(i.l_,{ref:t,className:(0,o.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",s),...n})});c.displayName=i.l_.displayName;let u=(0,r.j)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground",success:"success group border-green-500 bg-green-500 text-neutral-50"}},defaultVariants:{variant:"default"}}),m=n.forwardRef((e,t)=>{let{className:s,variant:n,...r}=e;return(0,a.jsx)(i.fC,{ref:t,className:(0,o.cn)(u({variant:n}),s),...r})});m.displayName=i.fC.displayName;let p=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(i.aU,{ref:t,className:(0,o.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",s),...n})});p.displayName=i.aU.displayName;let f=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(i.x8,{ref:t,className:(0,o.cn)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",s),"toast-close":"",...n,children:(0,a.jsx)(l.Z,{className:"h-4 w-4"})})});f.displayName=i.x8.displayName;let x=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(i.Dx,{ref:t,className:(0,o.cn)("text-sm font-semibold",s),...n})});x.displayName=i.Dx.displayName;let h=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(i.dk,{ref:t,className:(0,o.cn)("text-sm opacity-90",s),...n})});h.displayName=i.dk.displayName},971:function(e,t,s){"use strict";s.d(t,{pm:function(){return m}});var a=s(959);let n=0,i=new Map,r=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?r(s):e.toasts.forEach(e=>{r(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],d={toasts:[]};function c(e){d=l(d,e),o.forEach(e=>{e(d)})}function u(e){let{...t}=e,s=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>c({type:"DISMISS_TOAST",toastId:s});return c({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function m(){let[e,t]=a.useState(d);return a.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},942:function(e,t,s){"use strict";s.d(t,{cn:function(){return i},k:function(){return r}});var a=s(6259),n=s(2001);function i(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.m6)((0,a.W)(t))}function r(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>{let t=Number(e);return(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)})}},5899:function(e){"use strict";e.exports={reactStrictMode:!0}},4824:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return y}});var a=s(1527),n=s(959),i=s(479),r=s(5714),l=s(5083);function o(e){return(0,a.jsx)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}function d(e){let{title:t="Upload your documents",fileType:s="pdf",setFiles:n}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"text-3xl font-semibold text-gray-800 mb-4",children:t}),(0,a.jsxs)("label",{className:"flex justify-center w-full h-96 px-4 transition bg-white border-2 border-gray-300 border-dashed rounded-md appearance-none cursor-pointer hover:border-gray-400 focus:outline-none",children:[(0,a.jsxs)("span",{className:"flex items-center space-x-2",children:[(0,a.jsx)(o,{}),(0,a.jsxs)("span",{className:"font-medium text-gray-600",children:["Drop pdf files to Attach, or"," ",(0,a.jsxs)("span",{className:"text-blue-600 underline",children:["browse ",s]})]})]}),(0,a.jsx)("input",{type:"file",name:"file_upload",className:"hidden",multiple:!0,accept:".".concat(s),onChange:e=>{e.target.files&&n(Array.from(e.target.files).map(e=>({file:e,option:""})))}})]})]})}let c=["Select","FIR","482","Complaint","Charge Sheet","Order","Notice","Petition","Written Statement","Judgement","Order sheet","Written Petition","Response to Appeals"],u=[{name:"Select",disabled:!1},{name:"appeal",disabled:!1},{name:"petition",disabled:!1},{name:"written_statement",disabled:!1},{name:"482",disabled:!1},{name:"writ_petition",disabled:!1},{name:"impleading_application",disabled:!1},{name:"injunction_app",disabled:!1},{name:"criminal_appeal",disabled:!0},{name:"response_to_appeal",disabled:!0},{name:"notices",disabled:!1},{name:"revision_petition",disabled:!0},{name:"criminal_petition",disabled:!0},{name:"criminal_complaint",disabled:!0},{name:"consumer_complaint",disabled:!0},{name:"version_consumercourts",disabled:!0},{name:"translations",disabled:!1},{name:"summarisations",disabled:!1}];function m(e){let{files:t,setFiles:s}=e,n=(e,a)=>{let n=[...t];n[a].option=e.target.value,s(n)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"text-3xl font-semibold text-gray-800 mb-4",children:"Your documents"}),(0,a.jsx)("div",{className:"border-2 h-96 ".concat(t.length<=0&&"flex items-center justify-center","  rounded"),children:t.length>0?(0,a.jsx)("div",{className:"flex gap-2 flex-col p-5",children:t.map((e,t)=>(0,a.jsxs)("div",{className:"w-full flex gap-2",children:[(0,a.jsx)("span",{className:"text-gray-700 p-2 bg-blue-200 rounded w-1/2",children:e.file.name}),(0,a.jsx)("select",{className:"px-3 w-1/2",defaultValue:"",onChange:e=>n(e,t),children:c.map((e,t)=>{let s="Select"===e?"":e;return(0,a.jsx)("option",{value:s,children:e},t)})})]},t))}):(0,a.jsx)("span",{className:"font-semibold",children:"Currently nothing is uploaded"})})]})}var p=s(942);s(5899);var f=s(6015);function x(e){let{showModal:t,children:s}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"relative z-10 ".concat(!t&&"hidden"),children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"}),(0,a.jsx)("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto",children:(0,a.jsx)("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:(0,a.jsx)("div",{className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all w-full m-3",children:s})})})]})})}var h=s(4405),g=s(971),v=e=>{let{showModal:t,files:s,setCheckedFiles:n,checkedFiles:i,outputSection:r,setShowModal:l}=e,{toast:o}=(0,g.pm)(),d=(e,t)=>{t?n(t=>[...t,[e.option,e.file.name]]):n(t=>t.filter(t=>t[1]!==e.file.name))},c=async()=>{let e=function(e,t,s){let a=t.filter(t=>!e.some(e=>e[0]===t[0]&&e[1]===t[1])),n={chosen_file_tuples:e,unchosen_file_tuples:a,converse:!1,session_id:localStorage.getItem("session_id"),output_type:s};return e.length>0?(n.converse=!0,localStorage.setItem("converse","true")):localStorage.setItem("converse","false"),n}(i,JSON.parse(localStorage.getItem("apir")).file_info,r),t=await f.Z.post("https://nyayanidhi.azurewebsites.net/choose",e).then(e=>{if(200===e.status)return{success:!0,message:"successful",data:e.data}}).catch(e=>({success:!1,message:e.message}));t.success?(localStorage.setItem("apir2",JSON.stringify(t.data)),localStorage.setItem("init","true"),setTimeout(()=>{i.length>0?window.location.href="/chat":window.location.href="/output"},2e3)):(o({title:"Error: Upload",description:t.message,variant:"destructive",action:(0,a.jsx)(h.gD,{altText:"Try again",children:"Try again"})}),l(!1),localStorage.removeItem("apir"),localStorage.removeItem("session_id"),localStorage.removeItem("converse"))};return(0,a.jsxs)(x,{showModal:t,children:[(0,a.jsx)("div",{className:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4",children:(0,a.jsx)("div",{className:"sm:flex sm:items-start",children:(0,a.jsxs)("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left",children:[(0,a.jsx)("h3",{className:"text-base font-semibold leading-6 text-gray-900",id:"modal-title",children:"Choose your files to interact with"}),(0,a.jsx)("div",{className:"mt-2 flex gap-4",children:s.length>0&&s.map((e,t)=>(0,a.jsxs)("div",{className:"bg-blue-300 p-2 flex gap-4 rounded",children:[(0,a.jsx)("span",{children:e.file.name}),(0,a.jsx)("input",{type:"checkbox",className:"ml-6 accent-blue-300 md:accent-blue-500",onChange:t=>d(e,t.target.checked)})]},t))})]})})}),(0,a.jsx)("div",{className:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6",children:(0,a.jsx)("button",{onClick:c,type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-green-500 px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto",children:"Proceed"})})]})};function b(e){return(0,a.jsxs)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",children:[(0,a.jsxs)("rect",{x:"14.5",y:"30",width:"21",height:"40",fill:"#1d3f72",children:[(0,a.jsx)("animate",{attributeName:"y",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keyTimes:"0;0.5;1",values:"18;30;30",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1",begin:"-0.2s"}),(0,a.jsx)("animate",{attributeName:"height",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keyTimes:"0;0.5;1",values:"64;40;40",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1",begin:"-0.2s"})]}),(0,a.jsxs)("rect",{x:"39.5",y:"30",width:"21",height:"40",fill:"#5699d2",children:[(0,a.jsx)("animate",{attributeName:"y",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keyTimes:"0;0.5;1",values:"20.999999999999996;30;30",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1",begin:"-0.1s"}),(0,a.jsx)("animate",{attributeName:"height",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keyTimes:"0;0.5;1",values:"58.00000000000001;40;40",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1",begin:"-0.1s"})]}),(0,a.jsxs)("rect",{x:"64.5",y:"30",width:"21",height:"40",fill:"#d8ebf9",children:[(0,a.jsx)("animate",{attributeName:"y",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keyTimes:"0;0.5;1",values:"20.999999999999996;30;30",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1"}),(0,a.jsx)("animate",{attributeName:"height",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keyTimes:"0;0.5;1",values:"58.00000000000001;40;40",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1"})]})]})}function y(){let{user:e}=(0,i.aF)(),{toast:t}=(0,g.pm)(),[s,o]=(0,n.useState)([]),[c,x]=(0,n.useState)(""),[y,j]=(0,n.useState)([]),[w,N]=(0,n.useState)(!1),[S,_]=(0,n.useState)(!1),T=async()=>{let{isValid:n,errorMessage:i}=function(e,t){let s=!0,a="";0===e.length&&(s=!1,a="Please upload at least one file");for(let t=0;t<e.length;t++){let n=e[t];(""===n.option||null===n.option)&&(s=!1,a="Please select an option for file ".concat(t+1))}return""===t&&(s=!1,a="Please select an output type"),{isValid:s,errorMessage:a}}(s,c);if(!n){t({title:"Error: Validation",description:i,variant:"destructive",action:(0,a.jsx)(h.gD,{altText:"Try again",children:"Try again"})});return}let r=function(e,t,s){let a=(0,p.k)(),n=new FormData;return n.append("user_id",s.id),n.append("session_id",a),n.append("output_request",t),n.append("email_id",s.primaryEmailAddress.emailAddress),e.forEach((e,t)=>{n.append("file_type".concat(t+1),e.option),n.append("file".concat(t+1),e.file)}),localStorage.setItem("session_id",a),n}(s,c,e);_(!0);let l=await f.Z.post("https://nyayanidhi.azurewebsites.net/upload",r).then(e=>{if(200===e.status)return{success:!0,message:"Upload successful",data:e.data};throw Error("Upload failed")}).catch(e=>({success:!1,message:e.message}));_(!1),l.success?(t({title:"Success",description:l.message,variant:"success",action:(0,a.jsx)(h.gD,{altText:"Okay",children:"Okay"})}),N(!0),localStorage.setItem("apir",JSON.stringify(l.data))):(t({title:"Error: Upload",description:l.message,variant:"destructive",action:(0,a.jsx)(h.gD,{altText:"Try again",children:"Try again"})}),localStorage.removeItem("session_id"))};return(0,a.jsx)(r.Z,{children:(0,a.jsxs)("main",{children:[(0,a.jsx)(l.Z,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(d,{setFiles:o})}),(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(m,{files:s,setFiles:o})}),(0,a.jsxs)("div",{className:"w-full border-2 h-80 p-4 rounded",children:[(0,a.jsxs)("div",{className:"text-2xl font-semibold text-gray-800 mb-4",children:["Your price for ",s.length," files would be"]}),(0,a.jsxs)("div",{className:"text-7xl font-bold text-green-500 mb-4 flex w-full justify-center mt-16",children:["â‚¹ ",100*s.length]})]}),(0,a.jsxs)("div",{className:"w-full border-2 h-80 p-4 rounded flex flex-col gap-3",children:[(0,a.jsx)("div",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"How would you like your output?"}),(0,a.jsx)("select",{className:"p-2 w-full rounded",onChange:e=>x(e.target.value),defaultValue:"",children:u.map((e,t)=>{let s="Select"===e.name?"":e.name;return e.disabled?(0,a.jsx)("option",{value:s,disabled:!0,children:e.name},t):(0,a.jsx)("option",{value:s,children:e.name},t)})}),(0,a.jsx)("button",{onClick:T,className:"bg-black p-2 rounded text-white font-semibold hover:bg-slate-900",disabled:!!S,children:"Proceed"}),S&&(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)("div",{className:"flex text-bold items-center font-bold",children:[(0,a.jsx)(b,{className:"w-12"}),"Loading..."]}),(0,a.jsx)("span",{className:"font-semibold text-yellow-600 ml-1",children:"Do not refresh the page, it will take some time to upload"})]})]})]})}),(0,a.jsx)(v,{files:s,setCheckedFiles:j,showModal:w,checkedFiles:y,outputSection:c,setShowModal:N})]})})}}},function(e){e.O(0,[799,774,888,179],function(){return e(e.s=3366)}),_N_E=e.O()}]);